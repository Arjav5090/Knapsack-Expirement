"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[812],{8812:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var i=s(7437),n=s(2265),r=s(8155),a=s(9374),l=s(6070),o=s(4508);let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});c.displayName="Textarea";let d=(0,s(9205).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var u=s(1671),m=s(8896),h=s(8239),g=s(257);let f=[{id:1,question:"How did you approach solving the knapsack problems? Describe your general strategy.",placeholder:"Describe your problem-solving approach, any patterns you noticed, or strategies you developed..."},{id:2,question:"What factors did you consider when deciding which items to include in the knapsack?",placeholder:"Consider weight, value, ratios, combinations, time constraints, etc..."},{id:3,question:"How did you manage your time during the test? Did you change your approach as time ran out?",placeholder:"Describe your time management strategy, how you prioritized questions, etc..."},{id:4,question:"What was the most challenging aspect of the knapsack problems for you?",placeholder:"Consider computational complexity, time pressure, decision-making, etc..."},{id:5,question:"How confident are you in your performance? What do you think your score might be?",placeholder:"Reflect on your confidence level and estimate your performance..."}];function p(e){var t;let{onNext:s,updateParticipantData:o,benchmarkData:p}=e,[x,b]=(0,n.useState)(0),[y,v]=(0,n.useState)({}),[N,j]=(0,n.useState)(!0),[w,T]=(0,n.useState)(!1),k=(0,r.n1)(),[S,C]=(0,n.useState)({}),[I,D]=(0,n.useState)(null),q=(0,n.useMemo)(()=>g.env.NEXT_PUBLIC_API_BASE||"https://knapsack-expirement.onrender.com",[]);(0,n.useEffect)(()=>{if(!N&&(k.startSection("strategy"),f[x])){let e=Date.now();D(e),C(t=>({...t,[x+1]:{startTime:e,endTime:void 0,timeSpent:void 0}})),k.startQuestion(x+1,"strategy")}return()=>{k.endSection()}},[N,k,x]),(0,n.useEffect)(()=>{if(!N&&f[x]){if(null!==I&&x>0){let e=Date.now(),t=e-I;C(s=>({...s,[x]:{...s[x],endTime:e,timeSpent:t}}))}let e=Date.now();D(e),C(t=>({...t,[x+1]:{startTime:e,endTime:void 0,timeSpent:void 0}})),k.startQuestion(x+1,"strategy")}},[x,N,k,I]);let O=(e,t)=>{v(s=>{var i;return{...s,[e]:{text:t,timeSpent:null===(i=s[e])||void 0===i?void 0:i.timeSpent}}})},z=async()=>{var e,t;let i={...y};if(null!==I){let e=Date.now(),s=x+1;i={...i,[s]:{text:(null===(t=i[s])||void 0===t?void 0:t.text)||"",timeSpent:e-I}}}let n={phase:"strategy",participantId:localStorage.getItem("participantId"),data:{completed:!0,answers:i,questionsAnswered:Object.keys(i).length,totalQuestions:f.length,timeUsed:(null===(e=k.getCurrentTime())||void 0===e?void 0:e.elapsed)||0,questionTimes:Object.entries(i).map(e=>{let[t,s]=e;return{questionId:Number(t),timeSpent:s.timeSpent||0}})}};try{if(!(await fetch("".concat(q,"/api/v1/ingest-phase"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok)throw Error("Failed to submit strategy phase");console.log("[Strategy Phase] Submission successful ✅"),o({strategy:n.data}),s()}catch(e){console.error("[Strategy Phase] Submission failed ❌",e),alert("There was an error submitting your strategy responses.")}},R=e=>e.trim().split(/\s+/).filter(e=>e.length>0).length;if(N)return(0,i.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,i.jsxs)(l.Zb,{className:"shadow-lg",children:[(0,i.jsx)(l.Ol,{children:(0,i.jsxs)(l.ll,{className:"flex items-center",children:[(0,i.jsx)(d,{className:"h-6 w-6 mr-2 text-blue-600"}),"Strategy Questions"]})}),(0,i.jsx)(l.aY,{className:"space-y-6",children:(0,i.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-8 rounded-xl",children:[(0,i.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Before revealing your final score..."}),(0,i.jsxs)("div",{className:"text-left space-y-4 text-gray-700 mb-6",children:[(0,i.jsx)("p",{className:"text-lg",children:"Before revealing your final score, we ask you to complete in words, as best as you can, a list of questions around your self-evaluation and your thought process during the test."}),(0,i.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,i.jsxs)("p",{className:"text-yellow-800 font-medium",children:[(0,i.jsx)("strong",{children:"Prize Opportunity:"})," For every text response you give, we will evaluate (by both humans and an AI) how insightful your solutions are. We will randomly pick 3 fellow test takers in the top quarter of insightfulness of answers for an additional prize of $25."]})}),(0,i.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,i.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Writing Guidelines:"}),(0,i.jsxs)("ul",{className:"text-blue-800 space-y-1",children:[(0,i.jsx)("li",{children:"• Confine your responses to 150-200 words per question"}),(0,i.jsx)("li",{children:"• Shorter answers are perfectly acceptable - no penalty for brevity"}),(0,i.jsx)("li",{children:"• Focus on being insightful about your thought process"}),(0,i.jsx)("li",{children:"• Be honest about your strategies and challenges"})]})]})]}),(0,i.jsx)(a.z,{onClick:()=>j(!1),size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:"Begin Strategy Questions"})]})})]})});if(w){let e=Object.keys(y).length,t=Object.values(y).reduce((e,t)=>e+R(t.text||""),0);return(0,i.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,i.jsxs)(l.Zb,{className:"shadow-lg",children:[(0,i.jsx)(l.Ol,{children:(0,i.jsxs)(l.ll,{className:"flex items-center",children:[(0,i.jsx)(u.Z,{className:"h-6 w-6 mr-2 text-green-600"}),"Strategy Questions Complete"]})}),(0,i.jsx)(l.aY,{className:"space-y-6",children:(0,i.jsx)("div",{className:"text-center",children:(0,i.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-8 rounded-xl",children:[(0,i.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Thank you for your insights!"}),(0,i.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,i.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-green-600",children:e}),(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Questions Answered"})]}),(0,i.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:t}),(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Total Words"})]}),(0,i.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:Math.round(t/Math.max(e,1))}),(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Words/Question"})]})]}),(0,i.jsx)("div",{className:"bg-green-100 border border-green-300 rounded-lg p-4 mb-6",children:(0,i.jsx)("p",{className:"text-green-800 font-medium",children:"Your responses have been recorded and will be evaluated for insightfulness. Remember, the top 25% most insightful responses will be eligible for the additional $25 prize!"})}),(0,i.jsx)(a.z,{onClick:z,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:"Continue to Final Test"})]})})})]})})}let E=f[x],Q=(null===(t=y[E.id])||void 0===t?void 0:t.text)||"",W=R(Q),A=(x+1)/f.length*100;return(0,i.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,i.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Question ",x+1," of ",f.length]}),(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:[W," words"]})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,i.jsx)(h.E.div,{className:"bg-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:"".concat(A,"%")},transition:{duration:.3}})})]}),(0,i.jsxs)(l.Zb,{className:"shadow-lg",children:[(0,i.jsx)(l.Ol,{children:(0,i.jsxs)(l.ll,{className:"flex items-center",children:[(0,i.jsx)(m.Z,{className:"h-6 w-6 mr-2 text-blue-600"}),"Strategy Question ",x+1]})}),(0,i.jsxs)(l.aY,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:E.question}),(0,i.jsx)(c,{value:Q,onChange:e=>O(E.id,e.target.value),placeholder:E.placeholder,className:"min-h-[200px] text-base"}),(0,i.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,i.jsxs)("span",{className:"text-sm ".concat(W>200?"text-red-600":W>150?"text-yellow-600":"text-gray-500"),children:[W," words ",W>200&&"(over 200 word limit)"]}),(0,i.jsx)("span",{className:"text-xs text-gray-400",children:"Target: 150-200 words"})]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)(a.z,{variant:"outline",onClick:()=>{if(null!==I){let e=Date.now()-I,t=x+1;v(s=>{var i;return{...s,[t]:{text:(null===(i=s[t])||void 0===i?void 0:i.text)||"",timeSpent:e}}})}x>0&&b(x-1)},disabled:0===x,children:"Previous"}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["Question ",x+1," of ",f.length]}),(0,i.jsx)(a.z,{onClick:()=>{if(null!==I){let e=Date.now()-I,t=x+1;v(s=>{var i;return{...s,[t]:{text:(null===(i=s[t])||void 0===i?void 0:i.text)||"",timeSpent:e}}})}x<f.length-1?b(x+1):T(!0)},className:"bg-blue-600 hover:bg-blue-700",children:x===f.length-1?"Finish":"Next"})]})]})]})]})}},9374:function(e,t,s){s.d(t,{z:function(){return h}});var i=s(7437),n=s(2265);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var a=n.forwardRef((e,t)=>{let{children:s,...r}=e,a=n.Children.toArray(s),o=a.find(c);if(o){let e=o.props.children,s=a.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,i.jsx)(l,{...r,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return(0,i.jsx)(l,{...r,ref:t,children:s})});a.displayName="Slot";var l=n.forwardRef((e,t)=>{let{children:s,...i}=e;if(n.isValidElement(s)){let e,a;let l=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?s.ref:(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?s.props.ref:s.props.ref||s.ref;return n.cloneElement(s,{...function(e,t){let s={...t};for(let i in t){let n=e[i],r=t[i];/^on[A-Z]/.test(i)?n&&r?s[i]=(...e)=>{r(...e),n(...e)}:n&&(s[i]=n):"style"===i?s[i]={...n,...r}:"className"===i&&(s[i]=[n,r].filter(Boolean).join(" "))}return{...e,...s}}(i,s.props),ref:t?function(...e){return t=>{let s=!1,i=e.map(e=>{let i=r(e,t);return s||"function"!=typeof i||(s=!0),i});if(s)return()=>{for(let t=0;t<i.length;t++){let s=i[t];"function"==typeof s?s():r(e[t],null)}}}}(t,l):l})}return n.Children.count(s)>1?n.Children.only(null):null});l.displayName="SlotClone";var o=({children:e})=>(0,i.jsx)(i.Fragment,{children:e});function c(e){return n.isValidElement(e)&&e.type===o}var d=s(535),u=s(4508);let m=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=n.forwardRef((e,t)=>{let{className:s,variant:n,size:r,asChild:l=!1,...o}=e,c=l?a:"button";return(0,i.jsx)(c,{className:(0,u.cn)(m({variant:n,size:r,className:s})),ref:t,...o})});h.displayName="Button"},6070:function(e,t,s){s.d(t,{Ol:function(){return l},Zb:function(){return a},aY:function(){return c},ll:function(){return o}});var i=s(7437),n=s(2265),r=s(4508);let a=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});a.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});o.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...n})}).displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,i.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},8155:function(e,t,s){s.d(t,{n1:function(){return r}});class i{startSection(e){this.sectionName=e,this.questionId=null,this.startTime=new Date,this.endTime=null,this.interactions=[],console.log("[TimeTracker] Started section: ".concat(e)),this.logTimeData({sectionName:e,timeData:{startTime:this.startTime.toISOString()}})}startQuestion(e,t){t&&(this.sectionName=t),this.questionId=e,this.startTime=new Date,this.endTime=null,this.interactions=[],console.log("[TimeTracker] Started question ".concat(e," in section ").concat(this.sectionName))}endQuestion(){if(!this.startTime||!this.questionId||!this.sectionName){console.warn("[TimeTracker] Cannot end question - missing start time, question ID, or section");return}this.endTime=new Date;let e=this.endTime.getTime()-this.startTime.getTime();console.log("[TimeTracker] Question ".concat(this.questionId," completed in ").concat(e,"ms")),this.logTimeData({sectionName:this.sectionName,questionId:this.questionId,timeData:{startTime:this.startTime.toISOString(),endTime:this.endTime.toISOString(),timeSpent:e}})}endSection(){if(!this.startTime||!this.sectionName){console.warn("[TimeTracker] Cannot end section - missing start time or section name");return}this.endTime=new Date;let e=this.endTime.getTime()-this.startTime.getTime();console.log("[TimeTracker] Section ".concat(this.sectionName," completed in ").concat(e,"ms")),this.logTimeData({sectionName:this.sectionName,timeData:{endTime:this.endTime.toISOString(),timeSpent:e}})}logInteraction(e,t){let s={type:e,timestamp:new Date,data:t};this.interactions.push(s),this.questionId&&this.sectionName&&this.logTimeData({sectionName:this.sectionName,questionId:this.questionId,interactionType:e,timeData:{interactionData:t}})}async logTimeData(e){if(!this.participantId){console.warn("[TimeTracker] No participant ID available for logging");return}try{let t=await fetch("".concat("https://knapsack-expirement.onrender.com","/api/v1/log-time"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({participantId:this.participantId,...e})});t.ok||console.error("[TimeTracker] Failed to log time data:",t.status)}catch(e){console.error("[TimeTracker] Error logging time data:",e)}}getCurrentTime(){if(!this.startTime)return null;let e=new Date;return{startTime:this.startTime,currentTime:e,elapsed:e.getTime()-this.startTime.getTime(),sectionName:this.sectionName,questionId:this.questionId,interactionCount:this.interactions.length}}reset(){this.startTime=null,this.endTime=null,this.sectionName=null,this.questionId=null,this.interactions=[]}constructor(e){this.startTime=null,this.endTime=null,this.participantId=null,this.sectionName=null,this.questionId=null,this.interactions=[],this.participantId=e||localStorage.getItem("participantId")}}let n=new i,r=()=>n},1671:function(e,t,s){s.d(t,{Z:function(){return i}});let i=(0,s(9205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},535:function(e,t,s){s.d(t,{j:function(){return a}});var i=s(1994);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,r=i.W,a=(e,t)=>s=>{var i;if((null==t?void 0:t.variants)==null)return r(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:a,defaultVariants:l}=t,o=Object.keys(a).map(e=>{let t=null==s?void 0:s[e],i=null==l?void 0:l[e];if(null===t)return null;let r=n(t)||n(i);return a[e][r]}),c=s&&Object.entries(s).reduce((e,t)=>{let[s,i]=t;return void 0===i||(e[s]=i),e},{});return r(e,o,null==t?void 0:null===(i=t.compoundVariants)||void 0===i?void 0:i.reduce((e,t)=>{let{class:s,className:i,...n}=t;return Object.entries(n).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...l,...c}[t]):({...l,...c})[t]===s})?[...e,s,i]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}}]);